import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { Button } from "@vayva/ui";
import { X, Calendar as CalendarIcon, Clock, CheckCircle, } from "lucide-react";
const DEMO_SLOTS = ["09:00", "10:00", "11:30", "14:00", "16:30"];
const DEMO_DATES = [
    { day: "Mon", date: "27" },
    { day: "Tue", date: "28" },
    { day: "Wed", date: "29" },
    { day: "Thu", date: "30" },
    { day: "Fri", date: "01" },
];
export const BookingWizard = ({ service, onClose, onComplete, }) => {
    const [step, setStep] = useState(1);
    const [selectedDate, setSelectedDate] = useState(null);
    const [selectedTime, setSelectedTime] = useState(null);
    const handleConfirm = () => {
        onComplete({
            serviceId: service.id,
            date: selectedDate,
            time: selectedTime,
            price: service.price,
        });
    };
    return (_jsx("div", { className: "fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4", children: _jsxs("div", { className: "bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]", children: [_jsxs("div", { className: "bg-gray-50 p-4 border-b border-gray-100 flex justify-between items-center", children: [_jsxs("div", { children: [_jsx("h3", { className: "font-bold text-gray-900", children: "Book Appointment" }), _jsxs("p", { className: "text-xs text-gray-500", children: [service.name, " \u2022 \u20A6", service.price.toLocaleString()] })] }), _jsx(Button, { onClick: onClose, className: "p-2 hover:bg-gray-200 rounded-full text-gray-500", children: _jsx(X, { size: 20 }) })] }), _jsxs("div", { className: "p-6 overflow-y-auto flex-1", children: [_jsxs("div", { className: "flex gap-2 mb-8", children: [_jsx("div", { className: `h-1 flex-1 rounded-full ${step >= 1 ? "bg-blue-600" : "bg-gray-200"}` }), _jsx("div", { className: `h-1 flex-1 rounded-full ${step >= 2 ? "bg-blue-600" : "bg-gray-200"}` }), _jsx("div", { className: `h-1 flex-1 rounded-full ${step >= 3 ? "bg-blue-600" : "bg-gray-200"}` })] }), step === 1 && (_jsxs("div", { className: "space-y-6 animate-in slide-in-from-right duration-300", children: [_jsxs("h4", { className: "text-lg font-bold flex items-center gap-2", children: [_jsx(CalendarIcon, { size: 20, className: "text-blue-600" }), " Select Date"] }), _jsx("div", { className: "grid grid-cols-5 gap-3", children: DEMO_DATES.map((d, i) => (_jsxs(Button, { onClick: () => setSelectedDate(d.date), className: `flex flex-col items-center justify-center p-3 rounded-lg border ${selectedDate === d.date ? "border-blue-600 bg-blue-50 text-blue-700" : "border-gray-200 hover:border-blue-300"}`, children: [_jsx("span", { className: "text-xs text-gray-500 uppercase", children: d.day }), _jsx("span", { className: "text-xl font-bold", children: d.date })] }, i))) }), _jsx(Button, { disabled: !selectedDate, onClick: () => setStep(2), className: "w-full bg-blue-600 text-white font-bold py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed mt-4", children: "Continue" })] })), step === 2 && (_jsxs("div", { className: "space-y-6 animate-in slide-in-from-right duration-300", children: [_jsxs("h4", { className: "text-lg font-bold flex items-center gap-2", children: [_jsx(Clock, { size: 20, className: "text-blue-600" }), " Select Time"] }), _jsx("div", { className: "grid grid-cols-3 gap-3", children: DEMO_SLOTS.map((t, i) => (_jsx(Button, { onClick: () => setSelectedTime(t), className: `py-3 px-4 rounded-lg border font-medium ${selectedTime === t ? "border-blue-600 bg-blue-50 text-blue-700" : "border-gray-200 hover:border-blue-300 text-gray-700"}`, children: t }, i))) }), _jsxs("div", { className: "flex gap-3 mt-8", children: [_jsx(Button, { onClick: () => setStep(1), className: "flex-1 py-3 text-gray-600 font-medium hover:bg-gray-50 rounded-lg", children: "Back" }), _jsx(Button, { disabled: !selectedTime, onClick: () => setStep(3), className: "flex-1 bg-blue-600 text-white font-bold py-3 rounded-lg disabled:opacity-50", children: "Continue" })] })] })), step === 3 && (_jsxs("div", { className: "space-y-6 text-center animate-in slide-in-from-right duration-300", children: [_jsx("div", { className: "w-16 h-16 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mx-auto", children: _jsx(CheckCircle, { size: 32 }) }), _jsxs("div", { children: [_jsx("h4", { className: "text-xl font-bold text-gray-900", children: "Confirm Booking" }), _jsx("p", { className: "text-gray-500 mt-2", children: "Please review your appointment details." })] }), _jsxs("div", { className: "bg-gray-50 rounded-xl p-4 text-left space-y-3", children: [_jsxs("div", { className: "flex justify-between", children: [_jsx("span", { className: "text-gray-500", children: "Service" }), _jsx("span", { className: "font-medium text-gray-900", children: service.name })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { className: "text-gray-500", children: "Date" }), _jsxs("span", { className: "font-medium text-gray-900", children: [selectedDate, "th Dec"] })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { className: "text-gray-500", children: "Time" }), _jsx("span", { className: "font-medium text-gray-900", children: selectedTime })] }), _jsxs("div", { className: "border-t border-gray-200 pt-3 flex justify-between", children: [_jsx("span", { className: "font-bold text-gray-900", children: "Total" }), _jsxs("span", { className: "font-bold text-blue-600", children: ["\u20A6", service.price.toLocaleString()] })] })] }), _jsxs("div", { className: "flex gap-3 mt-4", children: [_jsx(Button, { onClick: () => setStep(2), className: "flex-1 py-3 text-gray-600 font-medium hover:bg-gray-50 rounded-lg", children: "Back" }), _jsx(Button, { onClick: handleConfirm, className: "flex-[2] bg-gray-900 text-white font-bold py-3 rounded-lg hover:bg-black transition-colors", children: "Confirm & Pay" })] })] }))] })] }) }));
};
