import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { X, Heart, RefreshCw, CheckCircle } from "lucide-react";
import { Button } from "@vayva/ui";
export const DonationOptions = ({ isOpen, onClose, campaignTitle, onDonate, isRecurringAvailable = true, }) => {
    const [amount, setAmount] = useState(5000);
    const [isRecurring, setIsRecurring] = useState(false);
    const [isSuccess, setIsSuccess] = useState(false);
    const presetAmounts = [2000, 5000, 10000, 25000, 50000];
    const handleSubmit = () => {
        setIsSuccess(true);
        setTimeout(() => {
            onDonate(amount, isRecurring);
            setIsSuccess(false); // Reset for next time if re-opened
        }, 2000);
    };
    if (!isOpen)
        return null;
    if (isSuccess) {
        return (_jsx("div", { className: "fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4", children: _jsxs("div", { className: "bg-white rounded-2xl p-8 max-w-sm w-full text-center animate-in zoom-in-95", children: [_jsx("div", { className: "w-20 h-20 bg-green-100 text-[#16A34A] rounded-full flex items-center justify-center mx-auto mb-6", children: _jsx(CheckCircle, { size: 40 }) }), _jsx("h3", { className: "text-2xl font-bold text-gray-900 mb-2", children: "Thank you!" }), _jsxs("p", { className: "text-gray-500 mb-6", children: ["Your donation of", " ", _jsxs("span", { className: "font-bold text-gray-900", children: ["\u20A6", amount.toLocaleString()] }), " ", "has been processed securely."] }), _jsx("p", { className: "text-xs text-gray-400", children: "A receipt has been sent to your email." })] }) }));
    }
    return (_jsx("div", { className: "fixed inset-0 z-[100] flex justify-end bg-black/50 backdrop-blur-sm", children: _jsxs("div", { className: "w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300", children: [_jsxs("div", { className: "p-6 border-b border-gray-100 flex items-center justify-between", children: [_jsxs("div", { children: [_jsx("h2", { className: "font-bold text-lg text-gray-900", children: "Make a Donation" }), _jsx("p", { className: "text-xs text-gray-500 truncate max-w-[200px]", children: campaignTitle })] }), _jsx(Button, { variant: "ghost", size: "icon", onClick: onClose, className: "p-2 hover:bg-gray-100 rounded-full transition-colors h-auto", "aria-label": "Close donation options", children: _jsx(X, { size: 20 }) })] }), _jsxs("div", { className: "p-6 flex-1 overflow-y-auto", children: [isRecurringAvailable && (_jsxs("div", { className: "flex bg-gray-100 p-1 rounded-xl mb-8", children: [_jsx(Button, { variant: "ghost", onClick: () => setIsRecurring(false), className: `flex-1 py-3 text-sm font-bold rounded-lg transition-all h-auto ${!isRecurring ? "bg-white shadow text-[#16A34A]" : "text-gray-500 hover:text-gray-700"}`, "aria-label": "Make a one-time donation", children: "Give Once" }), _jsxs(Button, { variant: "ghost", onClick: () => setIsRecurring(true), className: `flex-1 py-3 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 h-auto ${isRecurring ? "bg-white shadow text-[#16A34A]" : "text-gray-500 hover:text-gray-700"}`, "aria-label": "Make a recurring monthly donation", children: [_jsx(RefreshCw, { size: 14 }), " Monthly"] })] })), _jsx("label", { className: "block text-sm font-bold text-gray-700 mb-4", children: "Choose an amount" }), _jsx("div", { className: "grid grid-cols-3 gap-3 mb-6", children: presetAmounts.map((val) => (_jsxs(Button, { variant: "outline", onClick: () => setAmount(val), className: `py-3 rounded-lg border font-bold text-sm transition-all h-auto ${amount === val ? "border-[#16A34A] bg-green-50 text-[#16A34A]" : "border-gray-200 hover:border-gray-300"}`, "aria-label": `Donate ₦${val.toLocaleString()}`, children: ["\u20A6", val.toLocaleString()] }, val))) }), _jsxs("div", { className: "mb-8", children: [_jsx("label", { htmlFor: "custom-donation-amount", className: "block text-xs font-bold text-gray-400 uppercase mb-2", children: "Custom Amount" }), _jsxs("div", { className: "relative", children: [_jsx("span", { className: "absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold", children: "\u20A6" }), _jsx("input", { id: "custom-donation-amount", type: "number", value: amount, onChange: (e) => setAmount(parseInt(e.target.value) || 0), className: "w-full border border-gray-300 rounded-xl py-4 pl-10 pr-4 font-bold text-lg focus:outline-none focus:ring-2 focus:ring-[#16A34A]" })] })] }), _jsx("div", { className: "bg-gray-50 p-4 rounded-xl mb-6", children: _jsxs("div", { className: "flex items-start gap-3", children: [_jsx("div", { className: "mt-1 text-[#16A34A]", children: _jsx(Heart, { size: 18, fill: "currentColor" }) }), _jsxs("div", { children: [_jsx("h4", { className: "font-bold text-sm text-gray-900", children: "Your Impact" }), _jsxs("p", { className: "text-xs text-gray-500 mt-1", children: ["\u20A6", amount.toLocaleString(), " could help provide", " ", Math.floor(amount / 2500), " meals for families in need."] })] })] }) })] }), _jsxs("div", { className: "p-6 border-t border-gray-100", children: [_jsx(Button, { onClick: handleSubmit, className: "w-full bg-[#16A34A] hover:bg-[#15803D] text-white font-bold py-4 rounded-xl text-lg shadow-lg flex items-center justify-center gap-2 transition-all h-auto", "aria-label": isRecurring ? `Donate ₦${amount.toLocaleString()} monthly` : `Donate ₦${amount.toLocaleString()}`, children: isRecurring
                                ? `Donate ₦${amount.toLocaleString()} Monthly`
                                : `Donate ₦${amount.toLocaleString()}` }), _jsx("p", { className: "text-center text-[10px] text-gray-400 mt-4", children: "By donating, you agree to our Terms of Service and Privacy Policy." })] })] }) }));
};
