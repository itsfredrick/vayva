import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { Button } from "@vayva/ui";
import { useStorefrontProducts, useStorefrontStore, } from "@/hooks/storefront/useStorefront";
import { useStorefrontCart } from "@/hooks/storefront/useStorefrontCart";
import { CheckoutModal } from "./CheckoutModal";
import { X, Plus, Minus } from "lucide-react";
export function AAFashionHome({ storeName: initialStoreName, storeSlug, }) {
    const { store } = useStorefrontStore(storeSlug);
    const { products, isLoading } = useStorefrontProducts(storeSlug, {
        limit: 12,
    });
    // Cart Integration
    const { cart, addToCart, removeFromCart, updateQuantity, total, isOpen: isCartOpen, setIsOpen: setIsCartOpen, clearCart, } = useStorefrontCart(storeSlug || "");
    const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
    const displayName = store?.name || initialStoreName;
    return (_jsxs("div", { className: "bg-black text-white min-h-screen font-sans selection:bg-white selection:text-black", children: [_jsx(CheckoutModal, { isOpen: isCheckoutOpen, onClose: () => setIsCheckoutOpen(false), cart: cart, total: total, storeSlug: storeSlug || "", onSuccess: clearCart }), _jsxs("nav", { className: "fixed w-full z-50 mix-blend-difference px-8 py-6 flex justify-between items-center", children: [_jsx("div", { className: "text-2xl font-bold tracking-tighter uppercase", children: displayName }), _jsxs("div", { className: "flex gap-8 text-sm font-medium tracking-wide", children: [_jsx(Button, { className: "hover:underline underline-offset-4", children: "Collection" }), _jsx(Button, { className: "hover:underline underline-offset-4", children: "Editorial" }), _jsxs(Button, { className: "hover:underline underline-offset-4 flex items-center gap-2", onClick: () => setIsCartOpen(true), children: ["Cart (", cart.length, ")"] })] })] }), isCartOpen && (_jsxs("div", { className: "fixed inset-0 z-[60] flex justify-end", children: [_jsx("div", { className: "absolute inset-0 bg-black/50 backdrop-blur-sm", onClick: () => setIsCartOpen(false) }), _jsxs("div", { className: "relative w-full max-w-md bg-[#111] border-l border-gray-800 h-full p-6 flex flex-col animate-in slide-in-from-right", children: [_jsxs("div", { className: "flex justify-between items-center mb-8", children: [_jsx("h2", { className: "text-xl font-bold uppercase tracking-widest", children: "Your Bag" }), _jsx(Button, { onClick: () => setIsCartOpen(false), children: _jsx(X, { className: "w-6 h-6" }) })] }), _jsx("div", { className: "flex-1 overflow-auto space-y-8", children: cart.length === 0 ? (_jsx("div", { className: "h-full flex flex-col items-center justify-center text-gray-500", children: _jsx("p", { children: "Your bag is empty." }) })) : (cart.map((item) => (_jsxs("div", { className: "flex gap-4", children: [_jsx("div", { className: "w-20 h-24 bg-gray-900 rounded overflow-hidden", children: item.image && (_jsx("img", { src: item.image, alt: item.name, className: "w-full h-full object-cover" })) }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("h3", { className: "font-medium text-sm", children: item.name }), _jsxs("span", { className: "text-sm", children: ["\u20A6", (item.price * item.quantity).toLocaleString()] })] }), _jsxs("div", { className: "flex items-center gap-4", children: [_jsxs("div", { className: "flex items-center border border-gray-800 rounded", children: [_jsx(Button, { onClick: () => updateQuantity(item.id, -1), className: "p-1 hover:bg-white hover:text-black transition-colors", children: _jsx(Minus, { className: "w-3 h-3" }) }), _jsx("span", { className: "px-2 text-xs", children: item.quantity }), _jsx(Button, { onClick: () => updateQuantity(item.id, 1), className: "p-1 hover:bg-white hover:text-black transition-colors", children: _jsx(Plus, { className: "w-3 h-3" }) })] }), _jsx(Button, { onClick: () => removeFromCart(item.id), className: "text-xs text-gray-500 hover:text-white underline", children: "Remove" })] })] })] }, item.id)))) }), cart.length > 0 && (_jsxs("div", { className: "border-t border-gray-800 pt-6 mt-6", children: [_jsxs("div", { className: "flex justify-between text-lg font-bold mb-6", children: [_jsx("span", { children: "Total" }), _jsxs("span", { children: ["\u20A6", total.toLocaleString()] })] }), _jsx(Button, { onClick: () => {
                                            setIsCartOpen(false);
                                            setIsCheckoutOpen(true);
                                        }, className: "w-full bg-white text-black py-4 font-bold uppercase tracking-widest hover:bg-gray-200 transition-colors", children: "Checkout" })] }))] })] })), _jsxs("header", { className: "relative h-screen flex items-center justify-center overflow-hidden", children: [_jsxs("div", { className: "absolute inset-0 z-0", children: [_jsx("div", { className: "absolute inset-0 bg-black/40 z-10" }), _jsx("video", { autoPlay: true, loop: true, muted: true, playsInline: true, className: "w-full h-full object-cover opacity-60 scale-105", src: "https://cdn.coverr.co/videos/coverr-fashion-photoshoot-with-a-model-5343/1080p.mp4" })] }), _jsxs("div", { className: "relative z-20 text-center max-w-4xl mx-auto px-6", children: [_jsx("p", { className: "text-sm md:text-base mb-4 font-bold tracking-[0.3em] uppercase opacity-80", children: "Season 04 / 24" }), _jsxs("h1", { className: "text-6xl md:text-9xl font-bold tracking-tighter mb-8 leading-[0.8]", children: ["DARK", _jsx("br", {}), "MATTER"] }), _jsx(Button, { className: "border border-white px-12 py-4 text-sm font-bold tracking-[0.2em] uppercase hover:bg-white hover:text-black transition-all duration-500", children: "View Lookbook" })] })] }), _jsxs("section", { className: "py-32 px-4 md:px-8 max-w-[1600px] mx-auto", children: [_jsxs("div", { className: "flex justify-between items-end mb-16", children: [_jsx("h2", { className: "text-4xl md:text-6xl font-bold tracking-tighter", children: "New Arrivals" }), _jsx("div", { className: "text-right hidden md:block", children: _jsx("p", { className: "text-gray-400 text-sm tracking-widest uppercase", children: "Limited Edition Drop" }) })] }), isLoading && products.length === 0 ? (_jsx("div", { className: "text-center py-20 text-gray-500", children: "Loading collection..." })) : products.length === 0 ? (_jsx("div", { className: "text-center py-20 border border-gray-800 rounded", children: _jsx("p", { className: "text-gray-500", children: "No products available." }) })) : (_jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16", children: products.map((product) => (_jsxs("div", { className: "group cursor-pointer", children: [_jsxs("div", { className: "aspect-[3/4] bg-gray-900 mb-6 overflow-hidden relative", children: [_jsx("img", { src: product.image ||
                                                `https://via.placeholder.com/600x800/111/444?text=${encodeURIComponent(product.name)}`, alt: product.name, className: "w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 ease-out transform group-hover:scale-105" }), _jsx("div", { className: "absolute bottom-0 left-0 w-full p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300", children: _jsxs(Button, { onClick: () => addToCart(product), className: "w-full bg-white text-black py-3 text-xs font-bold uppercase tracking-widest hover:bg-gray-200", children: ["Add to Bag \u2014 \u20A6", product.price.toLocaleString()] }) })] }), _jsxs("div", { className: "flex justify-between items-start", children: [_jsxs("div", { children: [_jsx("h3", { className: "text-lg font-bold uppercase tracking-tight mb-1", children: product.name }), _jsx("p", { className: "text-gray-500 text-xs", children: product.category || "Apparel" })] }), _jsxs("span", { className: "font-mono text-sm opacity-60", children: ["\u20A6", product.price.toLocaleString()] })] })] }, product.id))) }))] })] }));
}
