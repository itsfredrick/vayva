"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { Button } from "@vayva/ui";
import { useStorefrontProducts, useStorefrontStore, } from "@/hooks/storefront/useStorefront";
import { useStorefrontCart } from "@/hooks/storefront/useStorefrontCart";
import { CheckoutModal } from "./CheckoutModal";
import { ShoppingBag, Menu, X, ArrowRight, ShieldCheck, Truck, RotateCcw, Plus, Minus } from "lucide-react";
export function StandardRetailHome({ storeName: initialStoreName, storeSlug }) {
    const isPreview = storeSlug === "preview";
    const { store } = useStorefrontStore(storeSlug);
    const { products, isLoading } = useStorefrontProducts(storeSlug, { limit: 20 });
    const { cart, addToCart, removeFromCart, updateQuantity, total, isOpen: isCartOpen, setIsOpen: setIsCartOpen, clearCart } = useStorefrontCart(storeSlug || "");
    const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
    const displayName = store?.name || initialStoreName || "Modern Store";
    return (_jsxs("div", { className: "min-h-screen bg-white text-gray-900 font-sans", children: [_jsx(CheckoutModal, { isOpen: isCheckoutOpen, onClose: () => setIsCheckoutOpen(false), cart: cart, total: total, storeSlug: storeSlug || "", onSuccess: clearCart }), _jsx("header", { className: "sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100", children: _jsxs("div", { className: "max-w-7xl mx-auto px-4 h-16 flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-4", children: [_jsx(Button, { className: "md:hidden", children: _jsx(Menu, { className: "w-5 h-5" }) }), _jsx("span", { className: "text-xl font-bold tracking-tight", children: displayName })] }), _jsxs("nav", { className: "hidden md:flex gap-8 text-sm font-medium text-gray-600", children: [_jsx("a", { href: "#", className: "hover:text-black transition-colors", children: "Shop" }), _jsx("a", { href: "#", className: "hover:text-black transition-colors", children: "New Arrivals" }), _jsx("a", { href: "#", className: "hover:text-black transition-colors", children: "About" })] }), _jsx("div", { className: "flex items-center gap-4", children: _jsxs(Button, { onClick: () => setIsCartOpen(true), className: "relative p-2 hover:bg-gray-100 rounded-full transition-colors", children: [_jsx(ShoppingBag, { className: "w-5 h-5" }), cart.length > 0 && (_jsx("span", { className: "absolute top-0 right-0 w-4 h-4 bg-black text-white text-[10px] font-bold flex items-center justify-center rounded-full", children: cart.length }))] }) })] }) }), _jsx("section", { className: "bg-gray-50 py-20 px-4 text-center", children: _jsxs("div", { className: "max-w-3xl mx-auto space-y-6", children: [_jsx("h1", { className: "text-4xl md:text-6xl font-bold tracking-tight text-gray-900", children: "Timeless Essentials." }), _jsx("p", { className: "text-lg text-gray-500 max-w-xl mx-auto", children: "Discover our curated collection of premium goods designed for modern living." }), _jsxs(Button, { className: "bg-black text-white px-8 py-3 rounded-full font-medium hover:bg-gray-800 transition-all flex items-center gap-2 mx-auto", children: ["Shop Collection ", _jsx(ArrowRight, { className: "w-4 h-4" })] })] }) }), _jsx("div", { className: "border-b border-gray-100 bg-white", children: _jsxs("div", { className: "max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left", children: [_jsxs("div", { className: "flex items-center justify-center md:justify-start gap-4 text-sm font-medium text-gray-600", children: [_jsx(Truck, { className: "w-5 h-5 text-gray-400" }), _jsx("span", { children: "Free Shipping on Orders over $50" })] }), _jsxs("div", { className: "flex items-center justify-center md:justify-start gap-4 text-sm font-medium text-gray-600", children: [_jsx(ShieldCheck, { className: "w-5 h-5 text-gray-400" }), _jsx("span", { children: "Secure Checkout Guaranteed" })] }), _jsxs("div", { className: "flex items-center justify-center md:justify-start gap-4 text-sm font-medium text-gray-600", children: [_jsx(RotateCcw, { className: "w-5 h-5 text-gray-400" }), _jsx("span", { children: "30-Day Easy Returns" })] })] }) }), _jsxs("section", { className: "max-w-7xl mx-auto px-4 py-20", children: [_jsxs("div", { className: "flex justify-between items-center mb-10", children: [_jsx("h2", { className: "text-2xl font-bold", children: "Featured Products" }), _jsx("a", { href: "#", className: "text-sm font-medium text-gray-500 hover:text-black", children: "View all" })] }), isLoading ? (_jsx("div", { className: "py-20 text-center text-gray-400", children: "Loading essentials..." })) : products.length === 0 ? (_jsx("div", { className: "py-20 text-center bg-gray-50 rounded-2xl", children: _jsx("p", { className: "text-gray-500", children: "No products found." }) })) : (_jsx("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8", children: products.map((product) => (_jsxs("div", { className: "group cursor-pointer", children: [_jsxs("div", { className: "aspect-square bg-gray-100 rounded-2xl mb-4 overflow-hidden relative", children: [_jsx("img", { src: product.image || `https://via.placeholder.com/400?text=${product.name}`, alt: product.name, className: "w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" }), _jsx(Button, { onClick: () => addToCart(product), className: "absolute bottom-4 right-4 bg-white shadow-lg p-3 rounded-full opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300", children: _jsx(Plus, { className: "w-5 h-5" }) })] }), _jsx("h3", { className: "font-medium text-gray-900", children: product.name }), _jsxs("p", { className: "text-sm text-gray-500 mt-1", children: ["\u20A6", product.price.toLocaleString()] })] }, product.id))) }))] }), isCartOpen && (_jsxs("div", { className: "fixed inset-0 z-[60] flex justify-end", children: [_jsx("div", { className: "absolute inset-0 bg-black/20 backdrop-blur-sm", onClick: () => setIsCartOpen(false) }), _jsxs("div", { className: "relative w-full max-w-sm bg-white h-full p-6 flex flex-col shadow-2xl animate-in slide-in-from-right", children: [_jsxs("div", { className: "flex justify-between items-center mb-6", children: [_jsx("h2", { className: "text-lg font-bold", children: "Your Bag" }), _jsx(Button, { onClick: () => setIsCartOpen(false), children: _jsx(X, { className: "w-5 h-5" }) })] }), _jsx("div", { className: "flex-1 overflow-auto space-y-6", children: cart.map(item => (_jsxs("div", { className: "flex gap-4", children: [_jsx("div", { className: "w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0", children: item.image && _jsx("img", { src: item.image, alt: item.name, className: "w-full h-full object-cover" }) }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "flex justify-between font-medium text-sm", children: [_jsx("span", { children: item.name }), _jsxs("span", { children: ["\u20A6", (item.price * item.quantity).toLocaleString()] })] }), _jsxs("div", { className: "flex items-center gap-3 mt-2", children: [_jsx(Button, { onClick: () => updateQuantity(item.id, -1), className: "p-1 hover:bg-gray-100 rounded", children: _jsx(Minus, { className: "w-3 h-3" }) }), _jsx("span", { className: "text-sm", children: item.quantity }), _jsx(Button, { onClick: () => updateQuantity(item.id, 1), className: "p-1 hover:bg-gray-100 rounded", children: _jsx(Plus, { className: "w-3 h-3" }) }), _jsx(Button, { onClick: () => removeFromCart(item.id), className: "ml-auto text-xs text-red-500", children: "Remove" })] })] })] }, item.id))) }), _jsxs("div", { className: "border-t border-gray-100 pt-6 mt-6", children: [_jsxs("div", { className: "flex justify-between text-lg font-bold mb-4", children: [_jsx("span", { children: "Total" }), _jsxs("span", { children: ["\u20A6", total.toLocaleString()] })] }), _jsx(Button, { onClick: () => { setIsCartOpen(false); setIsCheckoutOpen(true); }, className: "w-full bg-black text-white py-4 rounded-xl font-bold hover:bg-gray-800 transition-colors", children: "Checkout" })] })] })] }))] }));
}
