"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { useStorefrontProducts, useStorefrontStore, } from "@/hooks/storefront/useStorefront";
import { useStorefrontCart } from "@/hooks/storefront/useStorefrontCart";
import { CheckoutModal } from "./CheckoutModal";
import { Download, Monitor, Zap, CheckCircle, X } from "lucide-react";
import { Button } from "@vayva/ui";
export function StandardDigitalHome({ storeName: initialStoreName, storeSlug }) {
    const { store } = useStorefrontStore(storeSlug);
    const { products, isLoading } = useStorefrontProducts(storeSlug, { limit: 8 });
    const { cart, addToCart, removeFromCart, total, isOpen: isCartOpen, setIsOpen: setIsCartOpen, clearCart } = useStorefrontCart(storeSlug || "");
    const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
    const displayName = store?.name || initialStoreName || "Digital Store";
    return (_jsxs("div", { className: "min-h-screen bg-[#111] text-white font-mono selection:bg-purple-500 selection:text-white", children: [_jsx(CheckoutModal, { isOpen: isCheckoutOpen, onClose: () => setIsCheckoutOpen(false), cart: cart, total: total, storeSlug: storeSlug || "", onSuccess: clearCart }), _jsxs("nav", { className: "border-b border-gray-800 px-6 py-6 flex justify-between items-center sticky top-0 bg-[#111]/90 backdrop-blur z-50", children: [_jsxs("div", { className: "text-xl font-bold tracking-tighter text-purple-400", children: [_jsx(Monitor, { className: "inline-block w-6 h-6 mr-2 mb-1" }), displayName] }), _jsxs(Button, { variant: "ghost", onClick: () => setIsCartOpen(true), className: "hover:text-purple-400 transition-colors relative h-auto p-0", "aria-label": `View library with ${cart.length} items`, children: ["My Library [", cart.length, "]"] })] }), _jsxs("div", { className: "max-w-6xl mx-auto px-6 py-20 text-center", children: [_jsx("div", { className: "inline-block mb-6 px-4 py-1 rounded-full border border-purple-500/30 bg-purple-500/10 text-purple-300 text-xs tracking-widest uppercase", children: "Instant Delivery" }), _jsx("h1", { className: "text-5xl md:text-7xl font-bold mb-8 tracking-tight bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent", children: "Premium Digital Assets." }), _jsx("p", { className: "text-gray-400 max-w-2xl mx-auto text-lg mb-12 leading-relaxed", children: "High-quality resources for creators, developers, and designers. Secure downloads immediately after purchase." }), _jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-left", children: isLoading ? (_jsx("div", { className: "col-span-4 text-center text-gray-600 py-20", children: "Loading assets..." })) : products.length === 0 ? (_jsx("div", { className: "col-span-4 text-center border border-dashed border-gray-800 rounded-xl py-20 text-gray-500", children: "No digital products found." })) : (products.map(product => (_jsxs("div", { className: "group bg-gray-900/50 border border-gray-800 rounded-xl p-6 hover:border-purple-500/50 transition-all hover:bg-gray-900 relative overflow-hidden", children: [_jsx("div", { className: "absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity", children: _jsx(Download, { className: "w-5 h-5 text-purple-400" }) }), _jsx("div", { className: "aspect-square bg-gray-800 rounded-lg mb-6 overflow-hidden grayscale group-hover:grayscale-0 transition-all", children: _jsx("img", { src: product.image || `https://via.placeholder.com/300?text=.ZIP`, alt: product.name, className: "w-full h-full object-cover mix-blend-overlay opacity-80" }) }), _jsx("h3", { className: "text-lg font-bold mb-2", children: product.name }), _jsxs("div", { className: "flex justify-between items-center mt-4", children: [_jsxs("span", { className: "text-purple-400 font-bold", children: ["\u20A6", product.price.toLocaleString()] }), _jsx(Button, { variant: "primary", onClick: () => addToCart(product), className: "text-xs bg-white text-black px-3 py-2 rounded font-bold hover:bg-purple-400 hover:text-white transition-colors uppercase h-auto border-none", "aria-label": `Add ${product.name} to cart`, children: "Add" })] })] }, product.id)))) })] }), _jsx("div", { className: "border-t border-gray-800 bg-gray-900/50 py-12", children: _jsxs("div", { className: "max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8", children: [_jsxs("div", { className: "flex gap-4", children: [_jsx(Zap, { className: "w-8 h-8 text-purple-500" }), _jsxs("div", { children: [_jsx("h4", { className: "font-bold mb-1", children: "Instant Access" }), _jsx("p", { className: "text-sm text-gray-500", children: "Download links sent to your email immediately." })] })] }), _jsxs("div", { className: "flex gap-4", children: [_jsx(CheckCircle, { className: "w-8 h-8 text-purple-500" }), _jsxs("div", { children: [_jsx("h4", { className: "font-bold mb-1", children: "Lifetime Updates" }), _jsx("p", { className: "text-sm text-gray-500", children: "Get access to future versions for free." })] })] }), _jsxs("div", { className: "flex gap-4", children: [_jsx(Monitor, { className: "w-8 h-8 text-purple-500" }), _jsxs("div", { children: [_jsx("h4", { className: "font-bold mb-1", children: "Commercial License" }), _jsx("p", { className: "text-sm text-gray-500", children: "Use in personal and commercial projects." })] })] })] }) }), isCartOpen && (_jsxs("div", { className: "fixed inset-0 z-[60] flex justify-end", children: [_jsx("div", { className: "absolute inset-0 bg-black/80 backdrop-blur-sm", onClick: () => setIsCartOpen(false) }), _jsxs("div", { className: "relative w-full max-w-md bg-[#181818] border-l border-gray-800 h-full p-8 flex flex-col shadow-2xl animate-in slide-in-from-right", children: [_jsxs("div", { className: "flex justify-between items-center mb-8 border-b border-gray-800 pb-4", children: [_jsx("h2", { className: "text-xl font-bold tracking-tight", children: "Purchase Summary" }), _jsx(Button, { variant: "ghost", size: "icon", onClick: () => setIsCartOpen(false), "aria-label": "Close cart sidebar", children: _jsx(X, { className: "w-6 h-6 text-gray-500 hover:text-white" }) })] }), _jsx("div", { className: "flex-1 space-y-4 overflow-y-auto custom-scrollbar", children: cart.map(item => (_jsxs("div", { className: "bg-gray-900 p-4 rounded-lg flex justify-between items-center group border border-transparent hover:border-gray-700", children: [_jsxs("div", { children: [_jsx("div", { className: "font-bold", children: item.name }), _jsx("div", { className: "text-xs text-purple-400", children: "Digital License" })] }), _jsxs("div", { className: "flex gap-4 items-center", children: [_jsxs("span", { children: ["\u20A6", item.price.toLocaleString()] }), _jsx(Button, { variant: "ghost", size: "icon", onClick: () => removeFromCart(item.id), className: "text-gray-600 hover:text-red-500 p-0 h-auto", "aria-label": `Remove ${item.name} from cart`, children: _jsx(X, { className: "w-4 h-4" }) })] })] }, item.id))) }), _jsxs("div", { className: "pt-8 border-t border-gray-800", children: [_jsxs("div", { className: "flex justify-between text-xl font-bold mb-6", children: [_jsx("span", { children: "Total" }), _jsxs("span", { className: "text-purple-400", children: ["\u20A6", total.toLocaleString()] })] }), _jsx(Button, { onClick: () => setIsCheckoutOpen(true), className: "w-full bg-purple-600 hover:bg-purple-500 text-white py-6 h-auto rounded-lg font-bold tracking-wide transition-all shadow-lg shadow-purple-900/20", children: "Confirm & Download" })] })] })] }))] }));
}
