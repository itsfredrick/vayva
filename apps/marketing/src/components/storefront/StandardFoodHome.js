"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { useStorefrontProducts, useStorefrontStore, } from "@/hooks/storefront/useStorefront";
import { useStorefrontCart } from "@/hooks/storefront/useStorefrontCart";
import { CheckoutModal } from "./CheckoutModal";
import { Clock, MapPin, X, Plus, Minus, ChefHat } from "lucide-react";
import { Button } from "@vayva/ui";
export function StandardFoodHome({ storeName: initialStoreName, storeSlug }) {
    const { store } = useStorefrontStore(storeSlug);
    const { products, isLoading } = useStorefrontProducts(storeSlug, { limit: 20 });
    const { cart, addToCart, removeFromCart, updateQuantity, total, isOpen: isCartOpen, setIsOpen: setIsCartOpen, clearCart } = useStorefrontCart(storeSlug || "");
    const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
    const displayName = store?.name || initialStoreName || "Modern Bistro";
    return (_jsxs("div", { className: "min-h-screen bg-[#FDFBF7] text-[#2C2C2C] font-serif", children: [_jsx(CheckoutModal, { isOpen: isCheckoutOpen, onClose: () => setIsCheckoutOpen(false), cart: cart, total: total, storeSlug: storeSlug || "", onSuccess: clearCart }), _jsxs("nav", { className: "border-b border-[#E5E1D8] px-8 py-6 flex justify-between items-center bg-white sticky top-0 z-50", children: [_jsx("div", { className: "text-2xl italic font-bold tracking-tight text-[#2C2C2C]", children: displayName }), _jsxs("div", { className: "flex gap-8 text-sm font-sans uppercase tracking-widest text-[#888]", children: [_jsx("a", { href: "#", className: "hover:text-black", children: "Menu" }), _jsx("a", { href: "#", className: "hover:text-black", children: "Reservations" })] }), _jsx(Button, { variant: "ghost", onClick: () => setIsCartOpen(true), className: "relative group p-0 h-auto rounded-full", "aria-label": `View cart with ${cart.length} items`, children: _jsxs("div", { className: "flex items-center gap-2 border border-[#E5E1D8] px-4 py-2 rounded-full group-hover:bg-[#2C2C2C] group-hover:text-white transition-colors", children: [_jsx("span", { className: "text-xs font-sans font-bold uppercase tracking-widest", children: "Order" }), _jsx("div", { className: "w-5 h-5 flex items-center justify-center bg-[#E5E1D8] rounded-full text-[10px] font-bold group-hover:bg-white group-hover:text-black", children: cart.length })] }) })] }), _jsx("div", { className: "relative py-24 px-6 text-center overflow-hidden", children: _jsxs("div", { className: "max-w-2xl mx-auto space-y-6 relative z-10", children: [_jsx("div", { className: "inline-flex justify-center items-center w-12 h-12 rounded-full bg-[#E5E1D8] mb-4", children: _jsx(ChefHat, { className: "w-6 h-6 opacity-50" }) }), _jsxs("h1", { className: "text-5xl md:text-7xl leading-tight font-medium italic", children: ["Taste the ", _jsx("br", {}), " extraordinary."] }), _jsx("p", { className: "font-sans text-[#888] text-lg max-w-md mx-auto", children: "Locally sourced ingredients, crafted with passion. Experience dining reimagined." }), _jsxs("div", { className: "flex justify-center gap-4 pt-4 font-sans text-xs font-bold uppercase tracking-widest text-[#888]", children: [_jsxs("span", { className: "flex items-center gap-1", children: [_jsx(Clock, { className: "w-4 h-4" }), " Open 10am - 10pm"] }), _jsxs("span", { className: "flex items-center gap-1", children: [_jsx(MapPin, { className: "w-4 h-4" }), " Downtown"] })] })] }) }), _jsxs("div", { className: "max-w-7xl mx-auto px-6 pb-20 font-sans", children: [_jsxs("div", { className: "flex items-center gap-4 mb-12", children: [_jsx("div", { className: "h-px bg-[#E5E1D8] flex-1" }), _jsx("h2", { className: "text-sm font-bold uppercase tracking-widest text-[#888]", children: "Signature Dishes" }), _jsx("div", { className: "h-px bg-[#E5E1D8] flex-1" })] }), isLoading ? (_jsx("div", { className: "text-center py-20 text-[#888] italic", children: "Preparing menu..." })) : products.length === 0 ? (_jsx("div", { className: "text-center py-20 border border-[#E5E1D8] rounded-2xl", children: _jsx("p", { className: "text-[#888]", children: "Menu currently unavailable." }) })) : (_jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-16", children: products.map((item) => (_jsxs("div", { className: "group flex gap-6 cursor-pointer", onClick: () => addToCart(item), children: [_jsxs("div", { className: "w-32 h-32 md:w-40 md:h-40 bg-[#E5E1D8] rounded-full overflow-hidden flex-shrink-0 relative", children: [_jsx("img", { src: item.image || `https://via.placeholder.com/200?text=Dish`, alt: item.name, className: "w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 grayscale group-hover:grayscale-0" }), _jsx("div", { className: "absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center", children: _jsx(Plus, { className: "text-white w-8 h-8" }) })] }), _jsxs("div", { className: "flex-1 py-2", children: [_jsxs("div", { className: "flex justify-between items-baseline border-b border-[#E5E1D8] pb-2 mb-3 border-dashed group-hover:border-solid group-hover:border-[#2C2C2C] transition-all", children: [_jsx("h3", { className: "text-xl font-serif italic font-medium", children: item.name }), _jsxs("span", { className: "font-bold text-lg", children: ["\u20A6", item.price.toLocaleString()] })] }), _jsx("p", { className: "text-[#888] text-sm leading-relaxed mb-3 line-clamp-2", children: item.description }), _jsx(Button, { variant: "link", className: "text-xs font-bold uppercase tracking-widest border-b border-transparent hover:border-black transition-all p-0 h-auto", children: "Add to Order" })] })] }, item.id))) }))] }), isCartOpen && (_jsxs("div", { className: "fixed inset-0 z-[60] flex justify-end font-sans", children: [_jsx("div", { className: "absolute inset-0 bg-[#2C2C2C]/10 backdrop-blur-sm", onClick: () => setIsCartOpen(false) }), _jsxs("div", { className: "relative w-full max-w-md bg-white h-full p-8 flex flex-col shadow-2xl animate-in slide-in-from-right", children: [_jsxs("div", { className: "flex justify-between items-center mb-10", children: [_jsx("h2", { className: "text-2xl font-serif italic", children: "Your Order" }), _jsx(Button, { variant: "ghost", size: "icon", onClick: () => setIsCartOpen(false), "aria-label": "Close cart side bar", children: _jsx(X, { className: "w-6 h-6 hover:rotate-90 transition-transform" }) })] }), _jsx("div", { className: "flex-1 space-y-6 overflow-y-auto", children: cart.map(item => (_jsxs("div", { className: "flex gap-4", children: [_jsx("div", { className: "w-16 h-16 bg-[#E5E1D8] rounded-full overflow-hidden flex-shrink-0", children: item.image && _jsx("img", { src: item.image, alt: item.name, className: "w-full h-full object-cover" }) }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "flex justify-between font-bold text-lg mb-1", children: [_jsx("span", { children: item.name }), _jsxs("span", { children: ["\u20A6", (item.price * item.quantity).toLocaleString()] })] }), _jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Button, { variant: "ghost", size: "icon", onClick: () => updateQuantity(item.id, -1), className: "hover:bg-[#FDFBF7] p-1 rounded h-6 w-6", "aria-label": "Decrease quantity", children: _jsx(Minus, { className: "w-3 h-3" }) }), _jsx("span", { className: "font-mono text-sm", children: item.quantity }), _jsx(Button, { variant: "ghost", size: "icon", onClick: () => updateQuantity(item.id, 1), className: "hover:bg-[#FDFBF7] p-1 rounded h-6 w-6", "aria-label": "Increase quantity", children: _jsx(Plus, { className: "w-3 h-3" }) })] })] })] }, item.id))) }), _jsxs("div", { className: "pt-8 border-t border-[#E5E1D8]", children: [_jsxs("div", { className: "flex justify-between text-2xl font-serif italic mb-6", children: [_jsx("span", { children: "Total" }), _jsxs("span", { children: ["\u20A6", total.toLocaleString()] })] }), _jsx(Button, { onClick: () => setIsCheckoutOpen(true), className: "w-full bg-[#2C2C2C] text-white py-6 h-auto rounded-full font-bold uppercase tracking-widest hover:bg-black transition-colors", children: "Confirm Order" })] })] })] }))] }));
}
