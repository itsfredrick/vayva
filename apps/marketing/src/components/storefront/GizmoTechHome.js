import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { useStorefrontProducts, useStorefrontStore, } from "@/hooks/storefront/useStorefront";
import { useStorefrontCart } from "@/hooks/storefront/useStorefrontCart";
import { CheckoutModal } from "./CheckoutModal";
import { ShoppingCart, X, Cpu } from "lucide-react";
import { Button } from "@vayva/ui";
export function GizmoTechHome({ storeName: initialStoreName, storeSlug, }) {
    const { store } = useStorefrontStore(storeSlug);
    const { products, isLoading } = useStorefrontProducts(storeSlug, {
        limit: 8,
    });
    const { cart, addToCart, removeFromCart, updateQuantity, total, isOpen: isCartOpen, setIsOpen: setIsCartOpen, clearCart, } = useStorefrontCart(storeSlug || "");
    const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
    const displayName = store?.name || initialStoreName;
    return (_jsxs("div", { className: "min-h-screen bg-[#050505] text-[#00ff41] font-mono selection:bg-[#003300] selection:text-[#00ff41]", children: [_jsx(CheckoutModal, { isOpen: isCheckoutOpen, onClose: () => setIsCheckoutOpen(false), cart: cart, total: total, storeSlug: storeSlug || "", onSuccess: clearCart }), _jsx("div", { className: "fixed inset-0 pointer-events-none opacity-5 bg-[linear-gradient(0deg,transparent_24%,rgba(0,255,65,.3)_25%,rgba(0,255,65,.3)_26%,transparent_27%,transparent_74%,rgba(0,255,65,.3)_75%,rgba(0,255,65,.3)_76%,transparent_77%,transparent),linear-gradient(90deg,transparent_24%,rgba(0,255,65,.3)_25%,rgba(0,255,65,.3)_26%,transparent_27%,transparent_74%,rgba(0,255,65,.3)_75%,rgba(0,255,65,.3)_76%,transparent_77%,transparent)] bg-[length:50px_50px]" }), _jsx("header", { className: "border-b border-[#00ff41]/30 sticky top-0 bg-[#050505]/90 backdrop-blur z-50", children: _jsxs("div", { className: "max-w-7xl mx-auto px-6 h-16 flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Cpu, { className: "w-6 h-6 animate-pulse" }), _jsx("span", { className: "text-xl font-bold tracking-widest", children: displayName })] }), _jsxs("div", { className: "flex gap-6 text-xs md:text-sm uppercase tracking-widest", children: [_jsx(Button, { variant: "ghost", className: "hover:bg-[#00ff41] hover:text-black px-2 py-1 transition-colors h-auto p-0 hover:bg-transparent text-[#00ff41]", children: "Modules" }), _jsx(Button, { variant: "ghost", className: "hover:bg-[#00ff41] hover:text-black px-2 py-1 transition-colors h-auto p-0 hover:bg-transparent text-[#00ff41]", children: "Components" }), _jsxs(Button, { variant: "ghost", className: "hover:bg-[#00ff41] hover:text-black px-2 py-1 transition-colors flex items-center gap-2 border border-[#00ff41]/20 h-auto p-0 hover:bg-transparent text-[#00ff41]", onClick: () => setIsCartOpen(true), "aria-label": `View cart with ${cart.length} items`, children: [_jsx(ShoppingCart, { className: "w-4 h-4" }), _jsxs("span", { children: ["SYSTEM.CART(", cart.length, ")"] })] })] })] }) }), isCartOpen && (_jsxs("div", { className: "fixed inset-0 z-50 flex justify-end font-mono", children: [_jsx("div", { className: "absolute inset-0 bg-black/60 backdrop-blur-sm", onClick: () => setIsCartOpen(false) }), _jsxs("div", { className: "relative w-full max-w-md bg-[#0a0a0a] border-l border-[#00ff41] h-full p-6 flex flex-col shadow-[0_0_50px_rgba(0,255,65,0.1)]", children: [_jsxs("div", { className: "flex justify-between items-center mb-6 border-b border-[#00ff41]/30 pb-4", children: [_jsx("h2", { className: "text-xl font-bold uppercase tracking-widest", children: "System Inventory" }), _jsx(Button, { variant: "ghost", size: "icon", onClick: () => setIsCartOpen(false), className: "hover:text-white p-0 h-auto", "aria-label": "Close cart sidebar", children: _jsx(X, { className: "w-6 h-6" }) })] }), _jsx("div", { className: "flex-1 overflow-auto space-y-6 scrollbar-thin scrollbar-thumb-[#00ff41]/20", children: cart.length === 0 ? (_jsx("div", { className: "text-center py-20 opacity-50", children: "[NO_ITEMS_DETECTED]" })) : (cart.map((item) => (_jsxs("div", { className: "flex gap-4 border border-[#00ff41]/10 p-2 bg-[#00ff41]/5", children: [_jsx("div", { className: "w-16 h-16 bg-black border border-[#00ff41]/30 flex items-center justify-center", children: item.image ? (_jsx("img", { src: item.image, alt: item.name, className: "w-full h-full object-cover" })) : (_jsx(Cpu, { className: "w-8 h-8 opacity-50" })) }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "flex justify-between mb-1", children: [_jsx("h3", { className: "text-xs font-bold truncate pr-4", children: item.name }), _jsxs("span", { className: "text-xs", children: ["\u20A6", (item.price * item.quantity).toLocaleString()] })] }), _jsxs("div", { className: "flex items-center justify-between mt-2", children: [_jsxs("div", { className: "flex items-center gap-2 text-xs", children: [_jsx(Button, { variant: "ghost", onClick: () => updateQuantity(item.id, -1), className: "hover:text-white h-auto p-0 hover:bg-transparent text-[#00ff41]", "aria-label": "Decrease quantity", children: "[ - ]" }), _jsx("span", { className: "w-4 text-center", children: item.quantity }), _jsx(Button, { variant: "ghost", onClick: () => updateQuantity(item.id, 1), className: "hover:text-white h-auto p-0 hover:bg-transparent text-[#00ff41]", "aria-label": "Increase quantity", children: "[ + ]" })] }), _jsx(Button, { variant: "link", onClick: () => removeFromCart(item.id), className: "text-[10px] text-red-500 hover:text-red-400 p-0 h-auto", children: "Term.Process" })] })] })] }, item.id)))) }), cart.length > 0 && (_jsxs("div", { className: "border-t border-[#00ff41]/30 pt-6 mt-6", children: [_jsxs("div", { className: "flex justify-between text-lg font-bold mb-6", children: [_jsx("span", { children: "TOTAL_LOAD" }), _jsxs("span", { children: ["\u20A6", total.toLocaleString()] })] }), _jsx(Button, { onClick: () => {
                                            setIsCartOpen(false);
                                            setIsCheckoutOpen(true);
                                        }, className: "w-full bg-[#00ff41] text-black py-4 font-bold uppercase hover:bg-white hover:shadow-[0_0_20px_rgba(0,255,65,0.5)] transition-all h-auto", children: "Proceed to Checkout" })] }))] })] })), _jsxs("div", { className: "max-w-7xl mx-auto px-6 py-12", children: [_jsxs("div", { className: "flex items-center justify-between mb-8 border-b border-[#00ff41]/30 pb-2", children: [_jsx("h2", { className: "text-2xl uppercase tracking-widest", children: "Latest Hardware" }), _jsx("div", { className: "text-xs animate-pulse", children: "STATUS: ONLINE" })] }), isLoading && products.length === 0 ? (_jsx("div", { className: "py-20 text-center animate-pulse", children: "Scanning database..." })) : products.length === 0 ? (_jsx("div", { className: "py-20 text-center border border-[#00ff41]/30 border-dashed", children: _jsx("p", { className: "opacity-70", children: "No hardware found in sector." }) })) : (_jsx("div", { className: "grid md:grid-cols-4 gap-6", children: products.map((product) => (_jsxs("div", { className: "group border border-[#00ff41]/30 bg-black hover:bg-[#00ff41]/5 transition-all relative overflow-hidden", children: [_jsx("div", { className: "absolute top-0 right-0 p-1", children: _jsx("div", { className: "w-2 h-2 bg-[#00ff41]/50" }) }), _jsx("div", { className: "absolute bottom-0 left-0 p-1", children: _jsx("div", { className: "w-2 h-2 bg-[#00ff41]/50" }) }), _jsxs("div", { className: "aspect-square bg-[#050505] relative flex items-center justify-center border-b border-[#00ff41]/20", children: [_jsx("img", { src: product.image ||
                                                `https://via.placeholder.com/400x400/000/0f0?text=${encodeURIComponent(product.name)}`, alt: product.name, className: "max-w-[80%] max-h-[80%] object-contain filter grayscale group-hover:grayscale-0 transition-all duration-500" }), _jsxs("div", { className: "absolute bottom-2 left-2 text-[10px] font-mono opacity-50 group-hover:opacity-100", children: ["MK-II // ", product.id.substring(0, 4)] })] }), _jsxs("div", { className: "p-4", children: [_jsx("h3", { className: "font-bold text-sm mb-1 truncate", children: product.name }), _jsxs("div", { className: "flex justify-between items-center text-xs text-[#00ff41]/70 mb-4", children: [_jsx("span", { children: product.category || "Unit" }), _jsx("span", { children: "In Stock" })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("div", { className: "font-bold text-lg", children: ["\u20A6", product.price.toLocaleString()] }), _jsx(Button, { variant: "primary", onClick: () => addToCart(product), className: "px-3 py-1 bg-[#00ff41]/10 border border-[#00ff41] hover:bg-[#00ff41] hover:text-black text-xs font-bold uppercase transition-colors h-auto text-[#00ff41]", "aria-label": `Acquire ${product.name}`, children: "Acquire" })] })] })] }, product.id))) }))] }), _jsx("footer", { className: "border-t border-[#00ff41]/30 mt-20 py-12 bg-black", children: _jsxs("div", { className: "max-w-7xl mx-auto px-6 text-center text-xs opacity-50", children: [_jsxs("p", { children: ["SYSTEM_ID: ", storeSlug || "UNKNOWN"] }), _jsxs("p", { className: "mt-2", children: ["\u00A9 ", new Date().getFullYear(), " ", displayName, " Industries. All rights reserved."] })] }) })] }));
}
