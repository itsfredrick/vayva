"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Terminal, Server, CheckCircle2, ShieldCheck, RefreshCw } from "lucide-react";
import { useOpsQuery } from "@/hooks/useOpsQuery";
import { Button } from "@vayva/ui";
export default function SystemPage() {
    const { data: system, isLoading, refetch } = useOpsQuery(["system-env"], () => fetch("/api/ops/admin/system").then(res => res.json().then(j => j.data)));
    return (_jsxs("div", { className: "p-8 space-y-6", children: [_jsxs("div", { className: "flex justify-between items-center", children: [_jsxs("div", { children: [_jsxs("h1", { className: "text-3xl font-bold text-gray-900 flex items-center gap-3", children: [_jsx(Terminal, { className: "w-8 h-8 text-indigo-600" }), "System Environment"] }), _jsx("p", { className: "text-gray-500 mt-1", children: "Runtime configuration and health metrics." })] }), _jsx(Button, { variant: "ghost", size: "icon", onClick: () => refetch(), className: "rounded-full h-8 w-8", "aria-label": "Refresh system environment details", children: _jsx(RefreshCw, { className: `w-5 h-5 text-gray-500 ${isLoading ? 'animate-spin' : ''}` }) })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs("div", { className: "bg-white border border-gray-200 rounded-xl p-6 shadow-sm", children: [_jsxs("h3", { className: "font-bold text-lg mb-4 flex items-center gap-2", children: [_jsx(Server, { size: 20, className: "text-gray-500" }), " Application Details"] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex justify-between items-center border-b border-gray-100 pb-2", children: [_jsx("span", { className: "text-gray-600", children: "Node Environment" }), _jsx("span", { className: "font-mono text-sm bg-gray-100 px-2 py-1 rounded", children: system?.env || "loading..." })] }), _jsxs("div", { className: "flex justify-between items-center border-b border-gray-100 pb-2", children: [_jsx("span", { className: "text-gray-600", children: "Region" }), _jsx("span", { className: "font-mono text-sm text-gray-800", children: system?.region || "Unknown" })] }), _jsxs("div", { className: "flex justify-between items-center border-b border-gray-100 pb-2", children: [_jsx("span", { className: "text-gray-600", children: "Timezone" }), _jsx("span", { className: "font-mono text-sm text-gray-800", children: system?.timezone })] }), _jsxs("div", { className: "flex justify-between items-center pt-2", children: [_jsx("span", { className: "text-gray-600", children: "Uptime" }), _jsxs("span", { className: "text-green-600 font-bold flex items-center gap-1", children: [_jsx(CheckCircle2, { size: 14 }), " Operational"] })] })] })] }), _jsxs("div", { className: "bg-white border border-gray-200 rounded-xl p-6 shadow-sm", children: [_jsxs("h3", { className: "font-bold text-lg mb-4 flex items-center gap-2", children: [_jsx(ShieldCheck, { size: 20, className: "text-gray-500" }), " Security Features"] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex justify-between items-center border-b border-gray-100 pb-2", children: [_jsx("span", { className: "text-gray-600", children: "Auth Service" }), _jsx("span", { className: "text-green-600 font-bold text-xs uppercase", children: "Active" })] }), _jsxs("div", { className: "flex justify-between items-center border-b border-gray-100 pb-2", children: [_jsx("span", { className: "text-gray-600", children: "Bootstrap Mode" }), _jsx("span", { className: `font-bold text-xs uppercase px-2 py-0.5 rounded ${system?.bootstrapEnabled ? "bg-amber-100 text-amber-700" : "bg-gray-100 text-gray-500"}`, children: system?.bootstrapEnabled ? "Enabled" : "Disabled" })] }), _jsxs("div", { className: "flex justify-between items-center border-b border-gray-100 pb-2", children: [_jsx("span", { className: "text-gray-600", children: "Secure Cookies" }), _jsx("span", { className: `font-bold text-xs uppercase px-2 py-0.5 rounded ${system?.cookiesSecure ? "bg-green-100 text-green-700" : "bg-red-100 text-red-700"}`, children: system?.cookiesSecure ? "Yes" : "No" })] })] })] })] }), _jsxs("div", { className: "bg-gray-900 rounded-xl p-6 text-gray-300 font-mono text-xs overflow-x-auto shadow-inner", children: [_jsx("h3", { className: "text-white font-bold mb-4", children: "Safe Environment Variables" }), _jsx("pre", { children: JSON.stringify(system?.safeEnv, null, 2) })] })] }));
}
